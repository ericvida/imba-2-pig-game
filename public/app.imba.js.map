{"version":3,"file":"app.imba.js","sources":["../node_modules/imba/src/imba/internal/scheduler.imba","../node_modules/imba/src/imba/events.imba","../node_modules/imba/src/imba/dom.imba","../node_modules/imba/src/imba/internal/fragment.imba","../node_modules/imba/src/imba/svg.imba","../node_modules/imba/src/imba/index.imba","../src/app.imba"],"sourcesContent":["var raf = typeof requestAnimationFrame !== 'undefined' ? requestAnimationFrame : (do |blk| setTimeout(blk,1000 / 60))\n\n# Scheduler\nexport class Scheduler\n\tdef constructor\n\t\t@queue = []\n\t\t@stage = -1\n\t\t@batch = 0\n\t\t@scheduled = no\n\t\t@listeners = {}\n\n\t\t#ticker = do |e|\n\t\t\t@scheduled = no\n\t\t\t@tick(e)\n\t\tself\n\n\tdef add item, force\n\t\tif force or @queue.indexOf(item) == -1\n\t\t\t@queue.push(item)\n\n\t\t@schedule() unless @scheduled\n\n\tdef listen ns, item\n\t\t@listeners[ns] ||= Set.new()\n\t\t@listeners[ns].add(item)\n\n\tdef unlisten ns, item\n\t\t@listeners[ns] && @listeners[ns].delete(item)\n\n\tget promise\n\t\tPromise.new do |resolve| @add(resolve)\n\n\tdef tick timestamp\n\t\tvar items = @queue\n\t\t@ts = timestamp unless @ts\n\t\t@dt = timestamp - @ts\n\t\t@ts = timestamp\n\t\t@queue = []\n\t\t@stage = 1\n\t\t@batch++\n\n\t\tif items.length\n\t\t\tfor item,i in items\n\t\t\t\tif typeof item === 'string' && @listeners[item]\n\t\t\t\t\t@listeners[item].forEach do |item|\n\t\t\t\t\t\tif item.tick isa Function\n\t\t\t\t\t\t\titem.tick(self)\n\t\t\t\t\t\telif item isa Function\n\t\t\t\t\t\t\titem(self)\n\t\t\t\telif item isa Function\n\t\t\t\t\titem(@dt,self)\n\t\t\t\telif item.tick\n\t\t\t\t\titem.tick(@dt,self)\n\t\t@stage = 2\n\t\t@stage = @scheduled ? 0 : -1\n\t\tself\n\n\tdef schedule\n\t\tif !@scheduled\n\t\t\t@scheduled = yes\n\t\t\tif @stage == -1\n\t\t\t\t@stage = 0\n\t\t\traf(#ticker)\n\t\tself","const keyCodes = {\n\tesc: [27],\n\ttab: [9],\n\tenter: [13],\n\tspace: [32],\n\tup: [38],\n\tdown: [40],\n\tdel: [8,46]\n}\n\nif $web$\n\t# only for web?\n\textend class Event\n\t\t\n\t\tdef wait$mod state, params\n\t\t\tPromise.new do |resolve|\n\t\t\t\tsetTimeout(resolve,(params[0] isa Number ? params[0] : 1000))\n\n\t\tdef sel$mod state, params\n\t\t\treturn state.event.target.closest(params[0]) or false\n\n\t\tdef throttle$mod {handler,element,event}, params\n\t\t\treturn false if handler.throttled\n\t\t\thandler.throttled = yes\n\t\t\tlet name = params[0]\n\t\t\tunless name isa String\n\t\t\t\tname = \"in-{event.type or 'event'}\"\n\t\t\tlet cl = element.classList\n\t\t\tcl.add(name)\n\t\t\thandler.once('idle') do\n\t\t\t\tcl.remove(name)\n\t\t\t\thandler.throttled = no\n\t\t\treturn true\n\n\n# could cache similar event handlers with the same parts\nexport class EventHandler\n\tdef constructor params,closure\n\t\t@params = params\n\t\t@closure = closure\n\n\tdef getHandlerForMethod el, name\n\t\treturn null unless el\n\t\tel[name] ? el : @getHandlerForMethod(el.parentNode,name)\n\n\tdef emit name, ...params do imba.emit(self,name,params)\n\tdef on name, ...params do imba.listen(self,name,...params)\n\tdef once name, ...params do imba.once(self,name,...params)\n\tdef un name, ...params do imba.unlisten(self,name,...params)\n\n\tdef handleEvent event\n\t\tvar target = event.target\n\t\tvar element = event.currentTarget\n\t\tvar mods = @params\n\t\tvar i = 0\n\t\tlet commit = yes # @params.length == 0\n\t\tlet awaited = no\n\t\tlet prevRes = undefined\n\n\t\t# console.log 'handle event',event.type,@params\n\t\t@currentEvents ||= Set.new\n\t\t@currentEvents.add(event)\n\n\t\tlet state = {\n\t\t\telement: element\n\t\t\tevent: event\n\t\t\tmodifiers: mods\n\t\t\thandler: this\n\t\t}\n\n\t\tfor own handler,val of mods\n\t\t\t# let handler = part\n\t\t\tif handler.indexOf('~') > 0\n\t\t\t\thandler = handler.split('~')[0]\n\n\t\t\tlet args = [event,self]\n\t\t\tlet res = undefined\n\t\t\tlet context = null\n\n\t\t\t# parse the arguments\n\t\t\tif val isa Array\n\t\t\t\targs = val.slice()\n\n\t\t\t\tfor par,i in args\n\t\t\t\t\t# what about fully nested arrays and objects?\n\t\t\t\t\t# ought to redirect this\n\t\t\t\t\tif typeof par == 'string' && par[0] == '~' and par[1] == '$'\n\t\t\t\t\t\tlet name = par.slice(2)\n\t\t\t\t\t\tlet chain = name.split('.')\n\t\t\t\t\t\tlet value = state[chain.shift()] or event\n\n\t\t\t\t\t\tfor part,i in chain\n\t\t\t\t\t\t\tvalue = value ? value[part] : undefined\n\n\t\t\t\t\t\targs[i] = value\n\n\t\t\t# console.log \"handle part\",i,handler,event.currentTarget\n\t\t\t# check if it is an array?\n\t\t\tif handler == 'stop'\n\t\t\t\tevent.stopImmediatePropagation()\n\t\t\telif handler == 'prevent'\n\t\t\t\tevent.preventDefault()\n\t\t\telif handler == 'ctrl'\n\t\t\t\tbreak unless event.ctrlKey\n\t\t\telif handler == 'commit'\n\t\t\t\tcommit = yes\n\t\t\telif handler == 'silence'\n\t\t\t\tcommit = no\n\t\t\telif handler == 'alt'\n\t\t\t\tbreak unless event.altKey\n\t\t\telif handler == 'shift'\n\t\t\t\tbreak unless event.shiftKey\n\t\t\telif handler == 'meta'\n\t\t\t\tbreak unless event.metaKey\n\t\t\telif handler == 'self'\n\t\t\t\tbreak unless target == element\n\t\t\telif handler == 'once'\n\t\t\t\t# clean up bound data as well\n\t\t\t\telement.removeEventListener(event.type,self)\n\t\t\telif handler == 'options'\n\t\t\t\tcontinue\n\n\t\t\telif keyCodes[handler]\n\t\t\t\tunless keyCodes[handler].indexOf(event.keyCode) >= 0\n\t\t\t\t\tbreak\n\n\t\t\telif handler == 'trigger' or handler == 'emit'\n\t\t\t\tlet name = args[0]\n\t\t\t\tlet detail = args[1] # is custom event if not?\n\t\t\t\tlet e = CustomEvent.new(name, bubbles: true, detail: detail) # : Event.new(name)\n\t\t\t\te.originalEvent = event\n\t\t\t\tlet customRes = element.dispatchEvent(e)\n\n\t\t\telif typeof handler == 'string'\n\t\t\t\tlet mod = handler + '$mod'\n\n\t\t\t\tif event[mod] isa Function\n\t\t\t\t\t# console.log \"found modifier!\",mod\n\t\t\t\t\thandler = mod\n\t\t\t\t\tcontext = event\n\t\t\t\t\targs = [state,args]\n\n\t\t\t\t# should default to first look at closure - no?\n\t\t\t\telif handler[0] == '_'\n\t\t\t\t\thandler = handler.slice(1)\n\t\t\t\t\tcontext = @closure\n\t\t\t\telse\n\t\t\t\t\tcontext = @getHandlerForMethod(element,handler)\n\n\n\t\t\tif context\n\t\t\t\tres = context[handler].apply(context,args)\n\n\t\t\telif handler isa Function\n\t\t\t\tres = handler.apply(element,args)\n\n\t\t\tif res and res.then isa Function\n\t\t\t\timba.commit() if commit\n\t\t\t\tawaited = yes\n\t\t\t\t# TODO what if await fails?\n\t\t\t\tres = await res\n\n\t\t\tif res === false\n\t\t\t\tbreak\n\n\t\t\tstate.value = res\n\n\t\timba.commit() if commit\n\t\t@currentEvents.delete(event)\n\t\tif @currentEvents.size == 0\n\t\t\t@emit('idle')\n\t\t# what if the result is a promise\n\t\treturn\n","if $node$\n\texport {Document,Node,Text,Element,SVGElement,HTMLElement,Comment,DocumentFragment,Event,CustomEvent,MouseEvent,document} from './ssr'\n\nif $web$\n\texport var {Document,Node,Text,Comment,Element,SVGElement,HTMLElement,DocumentFragment,Event,CustomEvent,MouseEvent,document} = window","import {DocumentFragment,Element,Text,document} from '../dom'\n\nextend class DocumentFragment\n\t\n\t# Called to make a documentFragment become a live fragment\n\tdef setup$ flags, options\n\t\t#start = imba.document.createComment('start')\n\t\t#end = imba.document.createComment('end')\n\n\t\t#end.replaceWith$ = do |other|\n\t\t\tthis.parentNode.insertBefore(other,this)\n\t\t\treturn other\n\n\t\tthis.appendChild(#start)\n\t\tthis.appendChild(#end)\n\t\n\t# when we for sure know that the only content should be\n\t# a single text node\n\tdef text$ item\n\t\tunless #text\n\t\t\t#text = this.insert$(item)\n\t\telse\n\t\t\t#text.textContent = item\n\t\treturn\n\t\n\tdef insert$ item, options, toReplace\n\t\tif #parent\n\t\t\t# if the fragment is attached to a parent\n\t\t\t# we can just proxy the call through\n\t\t\t#parent.insert$(item,options,toReplace or #end)\n\t\telse\n\t\t\tElement.prototype.insert$.call(this,item,options,toReplace or #end)\n\n\tdef insertInto$ parent, before\n\t\tunless #parent\n\t\t\t#parent = parent\n\t\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef replaceWith$ other, parent\n\t\t#start.insertBeforeBegin$(other)\n\t\tvar el = #start\n\t\twhile el\n\t\t\tlet next = el.nextSibling\n\t\t\t@appendChild(el)\n\t\t\tbreak if el == #end\n\t\t\tel = next\n\t\t\t\n\t\treturn other\n\n\tdef appendChild$ child\n\t\t#end.insertBeforeBegin$(child)\n\t\treturn child\n\n\tdef removeChild$ child\n\t\tchild.parentNode && child.parentNode.removeChild(child)\n\t\tself\n\n\tdef isEmpty$\n\t\tlet el = #start\n\t\tlet end = #end\n\n\t\twhile el = el.nextSibling\n\t\t\tbreak if el == end\n\t\t\treturn false if el isa Element or el isa Text\n\t\treturn true\n\nclass TagCollection\n\tdef constructor f, parent\n\t\t#f = f\n\t\t#parent = parent\n\n\t\tif !(f & $TAG_FIRST_CHILD$) and self isa KeyedTagFragment\n\t\t\t#start = document.createComment('start')\n\t\t\tparent.appendChild$(#start) if parent # not if inside tagbranch\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t#end = document.createComment('end')\n\t\t\tparent.appendChild$(#end) if parent\n\n\t\tself.setup()\n\n\tget parentContext\n\t\t#parent\n\n\tdef appendChild$ item, index\n\t\t# we know that these items are dom elements\n\t\tif #end and #parent\n\t\t\t#end.insertBeforeBegin$(item)\n\t\telif #parent\n\t\t\t#parent.appendChild(item)\n\t\treturn\n\n\tdef replaceWith$ other\n\t\t@detachNodes()\n\t\t#end.insertBeforeBegin$(other)\n\t\t#parent.removeChild(#end)\n\t\t#parent = null\n\t\treturn\n\n\tdef joinBefore$ before\n\t\t@insertInto$(before.parentNode,before)\n\n\tdef insertInto$ parent, before\n\t\tunless #parent\n\t\t\t#parent = parent\n\t\t\tbefore ? before.insertBeforeBegin$(#end) : parent.appendChild$(#end)\n\t\t\t@attachNodes()\n\t\treturn this\n\n\tdef setup\n\t\tself\n\nclass KeyedTagFragment < TagCollection\n\tdef setup\n\t\t@array = []\n\t\t@changes = Map.new\n\t\t@dirty = no\n\t\t@$ = {}\n\n\tdef push item, idx\n\t\t# on first iteration we can merely run through\n\t\tunless #f & $TAG_INITED$\n\t\t\t@array.push(item)\n\t\t\tself.appendChild$(item)\n\t\t\treturn\n\n\t\tlet toReplace = @array[idx]\n\n\t\tif toReplace === item\n\t\t\tyes\n\t\telse\n\t\t\t@dirty = yes\n\t\t\t# if this is a new item\n\t\t\tlet prevIndex = @array.indexOf(item)\n\t\t\tlet changed = @changes.get(item)\n\n\t\t\tif prevIndex === -1\n\t\t\t\t# should we mark the one currently in slot as removed?\n\t\t\t\t@array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\telif prevIndex === idx + 1\n\t\t\t\tif toReplace\n\t\t\t\t\t@changes.set(toReplace,-1)\n\t\t\t\t@array.splice(idx,1)\n\n\t\t\telse\n\t\t\t\t@array.splice(prevIndex,1) if prevIndex >= 0\n\t\t\t\t@array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\tif changed == -1\n\t\t\t\t@changes.delete(item)\n\t\treturn\n\n\tdef insertChild item, index\n\t\tif index > 0\n\t\t\tlet other = @array[index - 1]\n\t\t\t# will fail with text nodes\n\t\t\tother.insertAfterEnd$(item)\n\t\telif #start\n\t\t\t#start.insertAfterEnd$(item)\n\t\telse\n\t\t\t#parent.insertAdjacentElement('afterbegin',item)\n\t\treturn\n\n\tdef removeChild item, index\n\t\t# @map.delete(item)\n\t\t# what if this is a fragment or virtual node?\n\t\tif item.parentNode == #parent\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in @array\n\t\t\t#end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tfor item in @array\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef end$ index\n\t\tunless #f & $TAG_INITED$\n\t\t\t#f |= $TAG_INITED$\n\t\t\treturn\n\n\t\tif @dirty\n\t\t\t@changes.forEach do |pos,item|\n\t\t\t\tif pos == -1\n\t\t\t\t\t@removeChild(item)\n\t\t\t@changes.clear()\n\t\t\t@dirty = no\n\n\t\t# there are some items we should remove now\n\t\tif @array.length > index\n\t\t\t\n\t\t\t# remove the children below\n\t\t\twhile @array.length > index\n\t\t\t\tlet item = @array.pop()\n\t\t\t\t@removeChild(item)\n\t\t\t# @array.length = index\n\t\treturn\n\nclass IndexedTagFragment < TagCollection\n\n\tdef setup\n\t\t@$ = []\n\t\t@length = 0\n\n\tdef end$ len\n\t\tlet from = @length\n\t\treturn if from == len or !#parent\n\t\tlet array = @$\n\t\tlet par = #parent\n\n\t\tif from > len\n\t\t\twhile from > len\n\t\t\t\tpar.removeChild$(array[--from])\n\t\telif len > from\n\t\t\twhile len > from\n\t\t\t\t@appendChild$(array[from++])\n\t\t@length = len\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in @$\n\t\t\tbreak if i == @length\n\t\t\t#end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tlet i = 0\n\t\twhile i < @length\n\t\t\tlet item = @$[i++]\n\t\t\t#parent.removeChild$(item)\n\t\treturn\n\nexport def createLiveFragment bitflags, options\n\tvar el = document.createDocumentFragment()\n\tel.setup$(bitflags, options)\n\treturn el\n\nexport def createIndexedFragment bitflags, parent\n\treturn IndexedTagFragment.new(bitflags,parent)\n\nexport def createKeyedFragment bitflags, parent\n\treturn KeyedTagFragment.new(bitflags,parent)\n\n\n","import {SVGElement} from './dom'\n\nif $web$\n\textend class SVGElement\n\t\t\n\t\tdef flag$ str\n\t\t\t@className.baseVal = str\n\t\t\treturn\n\n\t\tdef flagSelf$ str\n\t\t\t# if a tag receives flags from inside <self> we need to\n\t\t\t# redefine the flag-methods to later use both\n\t\t\tself.flag$ = do |str| self.flagSync$(#extflags = str)\n\t\t\tself.flagSelf$ = do |str| self.flagSync$(#ownflags = str)\n\t\t\t@className.baseVal = (@className.baseVal || '') + ' ' + (#ownflags = str)\n\t\t\treturn\n\n\t\tdef flagSync$\n\t\t\t@className.baseVal = ((#extflags or '') + ' ' + (#ownflags || ''))","\nvar root = (typeof window !== 'undefined' ? window : (typeof global !== 'undefined' ? global : null))\n\nvar imba = {\n\tversion: '2.0.0',\n\tglobal: root,\n\tctx: null,\n\tdocument: root.document\n}\n\nroot.imba = imba\n\nroot.customElements ||= {\n\tdefine: do console.log('no custom elements')\n\tget: do console.log('no custom elements')\n}\n\nimba.setTimeout = do |fn,ms|\n\tsetTimeout(&,ms) do\n\t\tfn()\n\t\timba.commit()\n\nimba.setInterval = do |fn,ms|\n\tsetInterval(&,ms) do\n\t\tfn()\n\t\timba.commit()\n\nimba.clearInterval = root.clearInterval\nimba.clearTimeout = root.clearTimeout\n\nif $node$\n\timport {Document,Node,Text,Comment,Element,HTMLElement,DocumentFragment,document,getElementType} from './ssr'\n\timba.document = document\n\ndef imba.q$ query, ctx\n\t(ctx isa Element ? ctx : document).querySelector(query)\n\ndef imba.q$$ query, ctx\n\t(ctx isa Element ? ctx : document).querySelectorAll(query)\n\ndef imba.inlineStyles styles\n\tvar el = document.createElement('style')\n\tel.textContent = styles\n\tdocument.head.appendChild(el)\n\treturn\n\nvar dashRegex = /-./g\n\ndef imba.toCamelCase str\n\tif str.indexOf('-') >= 0\n\t\tstr.replace(dashRegex) do |m| m.charAt(1).toUpperCase()\n\telse\n\t\tstr\n\n# Basic events - move to separate file?\nvar emit__ = do |event, args, node|\n\tvar prev, cb, ret\n\n\twhile (prev = node) and (node = node.next)\n\t\tif cb = node.listener\n\t\t\tif node.path and cb[node.path]\n\t\t\t\tret = args ? cb[node.path].apply(cb,args) : cb[node.path]()\n\t\t\telse\n\t\t\t\t# check if it is a method?\n\t\t\t\tret = args ? cb.apply(node, args) : cb.call(node)\n\n\t\tif node.times && --node.times <= 0\n\t\t\tprev.next = node.next\n\t\t\tnode.listener = null\n\treturn\n\n# method for registering a listener on object\ndef imba.listen obj, event, listener, path\n\tvar cbs, list, tail\n\tcbs = obj.__listeners__ ||= {}\n\tlist = cbs[event] ||= {}\n\ttail = list.tail || (list.tail = (list.next = {}))\n\ttail.listener = listener\n\ttail.path = path\n\tlist.tail = tail.next = {}\n\treturn tail\n\n# register a listener once\ndef imba.once obj, event, listener\n\tvar tail = imba.listen(obj,event,listener)\n\ttail.times = 1\n\treturn tail\n\n# remove a listener\ndef imba.unlisten obj, event, cb, meth\n\tvar node, prev\n\tvar meta = obj.__listeners__\n\treturn unless meta\n\n\tif node = meta[event]\n\t\twhile (prev = node) and (node = node.next)\n\t\t\tif node == cb || node.listener == cb\n\t\t\t\tprev.next = node.next\n\t\t\t\t# check for correct path as well?\n\t\t\t\tnode.listener = null\n\t\t\t\tbreak\n\treturn\n\n# emit event\ndef imba.emit obj, event, params\n\tif var cb = obj.__listeners__\n\t\temit__(event,params,cb[event]) if cb[event]\n\t\temit__(event,[event,params],cb.all) if cb.all\n\treturn\n\n\nimport {Scheduler} from './internal/scheduler'\n\nimba.scheduler = Scheduler.new()\nimba.commit = do imba.scheduler.add('render')\nimba.tick = do\n\timba.commit()\n\treturn imba.scheduler.promise\n\n###\nDOM\n###\n\ndef imba.mount element, into\n\t# automatic scheduling of element - even before\n\telement.__schedule = yes\n\t(into or document.body).appendChild(element)\n\n\nconst CustomTagConstructors = {}\n\nclass ImbaElementRegistry\n\n\tdef constructor\n\t\t#types = {}\n\n\tdef lookup name\n\t\treturn #types[name]\n\n\tdef get name, klass\n\t\treturn ImbaElement if !name or name == 'component'\n\t\treturn #types[name] if #types[name]\n\t\treturn getElementType(name) if $node$\n\t\treturn root[klass] if klass and root[klass]\n\t\troot.customElements.get(name) or ImbaElement\n\n\tdef create name\n\t\tif #types[name]\n\t\t\t# TODO refactor\n\t\t\treturn #types[name].create$()\n\t\telse\n\t\t\tdocument.createElement(name)\n\n\tdef define name, klass, options\n\t\t#types[name] = klass\n\t\tif options and options.extends\n\t\t\tCustomTagConstructors[name] = klass\n\n\t\tlet proto = klass.prototype\n\t\tif proto.render && proto.end$ == Element.prototype.end$\n\t\t\tproto.end$ = proto.render\n\n\t\troot.customElements.define(name,klass)\n\t\treturn klass\n\nimba.tags = ImbaElementRegistry.new()\n\nvar proxyHandler =\n\tdef get target, name\n\t\tlet ctx = target\n\t\tlet val = undefined\n\t\twhile ctx and val == undefined\n\t\t\tif ctx = ctx.parentContext\n\t\t\t\tval = ctx[name]\n\t\treturn val\n\nimport {EventHandler} from './events'\n\nextend class Node\n\n\tget __context\n\t\tthis.context$ ||= Proxy.new(self,proxyHandler)\n\n\tget parentContext\n\t\tthis.up$ or this.parentNode\n\n\tdef init$\n\t\tself\n\n\t# replace this with something else\n\tdef replaceWith$ other\n\t\t@parentNode.replaceChild(other,this)\n\t\treturn other\n\n\tdef insertInto$ parent\n\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef insertBefore$ el, prev\n\t\tthis.insertBefore(el,prev)\n\n\tdef insertBeforeBegin$ other\n\t\t@parentNode.insertBefore(other,this)\n\n\tdef insertAfterEnd$ other\n\t\tif @nextSibling\n\t\t\t@nextSibling.insertBeforeBegin$(other)\n\t\telse\n\t\t\t@parentNode.appendChild(other)\n\nextend class Comment\n\t# replace this with something else\n\tdef replaceWith$ other\n\t\tif other and other.joinBefore$\n\t\t\tother.joinBefore$(this)\n\t\telse\n\t\t\t@parentNode.insertBefore$(other,this)\n\t\t# other.insertBeforeBegin$(this)\n\t\t@parentNode.removeChild(this)\n\t\t# @parentNode.replaceChild(other,this)\n\t\treturn other\n\n# what if this is in a webworker?\nextend class Element\n\n\tdef emit name, detail, o = {bubbles: true}\n\t\to.detail = detail if detail != undefined\n\t\tlet event = CustomEvent.new(name, o)\n\t\tlet res = @dispatchEvent(event)\n\t\treturn event\n\n\tdef slot$ name, ctx\n\t\treturn self\n\n\tdef on$ type, mods, scope\n\n\t\tvar check = 'on$' + type\n\t\tvar handler\n\n\t\t# check if a custom handler exists for this type?\n\t\tif self[check] isa Function\n\t\t\thandler = self[check](mods,scope)\n\n\t\thandler = EventHandler.new(mods,scope)\n\t\tvar capture = mods.capture\n\t\tvar passive = mods.passive\n\n\t\tvar o = capture\n\n\t\tif passive\n\t\t\to = {passive: passive, capture: capture}\n\n\t\t@addEventListener(type,handler,o)\n\t\treturn handler\n\n\t# inline in files or remove all together?\n\tdef text$ item\n\t\t@textContent = item\n\t\tself\n\n\tdef insert$ item, f, prev\n\t\tlet type = typeof item\n\n\t\tif type === 'undefined' or item === null\n\t\t\t# what if the prev value was the same?\n\t\t\tif prev and prev isa Comment\n\t\t\t\treturn prev\n\n\t\t\tlet el = document.createComment('')\n\t\t\tprev ? prev.replaceWith$(el) : el.insertInto$(this)\n\t\t\treturn el\n\n\t\t# dont reinsert again\n\t\tif item === prev\n\t\t\treturn item\n\n\t\t# what if this is null or undefined -- add comment and return? Or blank text node?\n\t\telif type !== 'object'\n\t\t\tlet res\n\t\t\tlet txt = item\n\n\t\t\tif (f & $TAG_FIRST_CHILD$) && (f & $TAG_LAST_CHILD$)\n\t\t\t\t# FIXME what if the previous one was not text? Possibly dangerous\n\t\t\t\t# when we set this on a fragment - it essentially replaces the whole\n\t\t\t\t# fragment?\n\t\t\t\t@textContent = txt\n\t\t\t\treturn\n\n\t\t\tif prev\n\t\t\t\tif prev isa Text\n\t\t\t\t\tprev.textContent = txt\n\t\t\t\t\treturn prev\n\t\t\t\telse\n\t\t\t\t\tres = document.createTextNode(txt)\n\t\t\t\t\tprev.replaceWith$(res,self)\n\t\t\t\t\treturn res\n\t\t\telse\n\t\t\t\t@appendChild$(res = document.createTextNode(txt))\n\t\t\t\treturn res\t\n\n\t\telse\n\t\t\tprev ? prev.replaceWith$(item,self) : item.insertInto$(self)\n\t\t\treturn item\n\t\treturn\n\n\tdef flag$ str\n\t\t@className = str\n\t\treturn\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tself.flag$ = do |str| self.flagSync$(#extflags = str)\n\t\tself.flagSelf$ = do |str| self.flagSync$(#ownflags = str)\n\t\t@className = (@className || '') + ' ' + (#ownflags = str)\n\t\treturn\n\n\tdef flagSync$\n\t\t@className = ((#extflags or '') + ' ' + (#ownflags || ''))\n\n\tdef open$\n\t\tself\n\n\tdef close$\n\t\tself\n\n\tdef end$\n\t\t@render() if @render\n\t\treturn\n\n\tdef css$ key, value, mods\n\t\t@style[key] = value\n\nElement.prototype.appendChild$ = Element.prototype.appendChild\nElement.prototype.removeChild$ = Element.prototype.removeChild\nElement.prototype.insertBefore$ = Element.prototype.insertBefore\nElement.prototype.replaceChild$ = Element.prototype.replaceChild\nElement.prototype.set$ = Element.prototype.setAttribute\n\n# import './fragment'\nimport {createLiveFragment,createIndexedFragment,createKeyedFragment} from './internal/fragment'\n\nimba.createLiveFragment = createLiveFragment\nimba.createIndexedFragment = createIndexedFragment\nimba.createKeyedFragment = createKeyedFragment\n\n# Create custom tag with support for scheduling and unscheduling etc\n\nvar mountedQueue\nvar mountedFlush = do\n\tlet items = mountedQueue\n\tmountedQueue = null\n\tif items\n\t\tfor item in items\n\t\t\titem.mounted$()\n\treturn\n\n\nclass ImbaElement < HTMLElement\n\tdef constructor\n\t\tsuper()\n\t\tthis.setup$()\n\t\tthis.build() if this.build\n\n\tdef setup$\n\t\t#slots = {}\n\t\t#f = 0\n\n\tdef init$\n\t\t#f |= $TAG_INITED$\n\t\tself\n\n\t# returns the named slot - for context\n\tdef slot$ name, ctx\n\t\tif name == '__' and !self.render\n\t\t\treturn self\n\n\t\t#slots[name] ||= imba.createLiveFragment()\n\n\tdef schedule\n\t\timba.scheduler.listen('render',self)\n\t\t#f |= $TAG_SCHEDULED$\n\t\treturn self\n\n\tdef unschedule\n\t\timba.scheduler.unlisten('render',self)\n\t\t#f &= ~$TAG_SCHEDULED$\n\t\treturn self\n\n\n\tdef connectedCallback\n\t\tlet flags = #f\n\n\t\tif flags & $TAG_MOUNTED$\n\t\t\treturn\n\n\t\tif this.mounted isa Function\n\t\t\tunless mountedQueue\n\t\t\t\tmountedQueue = []\n\t\t\t\tPromise.resolve().then(mountedFlush)\n\t\t\tmountedQueue.unshift(this)\n\n\t\tunless flags & $TAG_INITED$\n\t\t\tthis.init$()\n\n\t\tunless flags & $TAG_AWAKENED$\n\t\t\t#f |= $TAG_AWAKENED$\n\t\t\tthis.awaken() if this.awaken\n\n\t\tunless flags\n\t\t\tthis.render() if this.render\n\n\t\tthis.mount$()\n\t\treturn this\n\n\tdef mount$\n\t\t#f |= $TAG_MOUNTED$\n\n\t\tthis.schedule() if #schedule\n\n\t\tif this.mount isa Function\n\t\t\tlet res = this.mount()\n\t\t\tif res && res.then isa Function\n\t\t\t\tres.then(imba.commit)\n\t\treturn this\n\n\tdef mounted$\n\t\tthis.mounted() if this.mounted isa Function\n\t\treturn this\n\n\tdef disconnectedCallback\n\t\t#f &= ~$TAG_MOUNTED$\n\t\tthis.unschedule() if #f & $TAG_SCHEDULED$\n\t\tthis.unmount() if this.unmount isa Function\n\n\tdef tick\n\t\tthis.render && this.render()\n\n\tdef awaken\n\t\t#schedule = true\n\t\t\n\nroot.customElements.define('imba-element',ImbaElement)\n\n\ndef imba.createElement name, bitflags, parent, flags, text, sfc\n\tvar el = document.createElement(name)\n\n\tel.className = flags if flags\n\n\tif sfc\n\t\tel.setAttribute('data-'+sfc,'')\n\n\tif text !== null\n\t\tel.text$(text)\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\n\treturn el\n\ndef imba.createComponent name, bitflags, parent, flags, text, sfc\n\t# the component could have a different web-components name?\n\tvar el = document.createElement(name)\n\n\tif CustomTagConstructors[name]\n\t\tel = CustomTagConstructors[name].create$(el)\n\t\tel.slot$ = ImbaElement.prototype.slot$\n\t\tel.__slots = {}\n\n\tel.up$ = parent\n\tel.__f = bitflags\n\tel.init$()\n\n\tif text !== null\n\t\tel.slot$('__').text$(text)\n\n\tel.className = flags if flags\n\n\tif sfc\n\t\tel.setAttribute('data-'+sfc,'')\n\n\treturn el\n\nimport './svg'\n\ndef imba.createSVGElement name, bitflags, parent, flags, text, sfc\n\tvar el = document.createElementNS(\"http://www.w3.org/2000/svg\",name)\n\tif flags\n\t\tif $node$\n\t\t\tel.className = flags\n\t\telse\n\t\t\tel.className.baseVal = flags\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\treturn el\n\n# import './intersect'\n","# TODO: Hold score not showing\n# TODO: Lost lot, doesn't switch players.\nlet activePlayer = 0\nlet targetScore = 200\nlet totalScore = [0,0]\nlet turnScore = 0\nlet dice = 0\nlet playing = true\nlet download = \"https://github.com/iamtirado/imba-pig-game\"\nvar counter = 0\ntag game-info\n\tdef render\n\t\t<self>\n\t\t\t<p.rules>\n\t\t\t\t<b> \"How to Play:\"\n\t\t\t\t<ol>\n\t\t\t\t\t<li> \"First player to reach \"\n\t\t\t\t\t\t<b> targetScore \n\t\t\t\t\t\t\" wins\"\n\t\t\t\t\t<li> \"If Dice Rolls 1, \"\n\t\t\t\t\t\t<b> \"you lose your lot\"\n\t\t\t\t\t\t\", and your turn ends\"\n\t\t\t\t\t<li> \"Press \"\n\t\t\t\t\t\t<b> '\\\"HOLD\\\" '\n\t\t\t\t\t\t\"to add your lot to your score and end your turn.\"\n\t\t\t<p.credits>\n\t\t\t\t\"Coded by \"\n\t\t\t\t<a href=\"https://github.com/iamtirado/imba-2-pig-game\" target=\"_blank\"> \"Eric\"\n\t\t\t\t\" with the \"\n\t\t\t\t<a href=\"http://github.com/imba/imba\" target=\"_blank\"> \"Imba\"\n\t\t\t\t\" Language. Example borrowoed from the \"\n\t\t\t\t<a href=\"https://codingheroes.io\" target=\"_blank\"> \"codingheroes.io\"\n\t\t\t\t\" Master Javascript Course\"\n\ntag player-panel\n\t@player\n\t# if player panel is same as active player show turn's score, or else show 0\n\tdef currentScore\n\t\tif @player is activePlayer then turnScore else 0\n\t# if thers is a winner, show winner or else show player name.\n\tdef playerName\n\t\tif playing is no and @player is activePlayer\n\t\t\t\"Winner!\"\n\t\telse\n\t\t\t\"Player {@player + 1}\"\n\t# if player has won, evaluate to true\n\tdef playerWins # i2 - put inline\n\t\tif @player is activePlayer and playing is no\n\t\t\tyes\n\tdef isActive # i2 - put inline\n\t\t@player is activePlayer and playing\n\n\tdef isWinner # i2 - put inline\n\t\tplaying is false and @player is activePlayer\n\tdef render\n\t\t<self .active=(@player is activePlayer and playing) .winner=(playing is false and @player is activePlayer)>\n\t\t\t<div.player-name>\n\t\t\t\tself.playerName()\n\t\t\t<div.player-score>\n\t\t\t\ttotalScore[@player]\n\t\t\t<div.player-current-box>\n\t\t\t\t<div.player-current-label> \"lot\"\n\t\t\t\t<div.player-current-score>\n\t\t\t\t\tself.currentScore()\n\ntag pig-game\n\t# reset all values and switch players\n\tdef nextPlayer\n\t\tif playing\n\t\t\tif activePlayer === 0 then activePlayer = 1 else activePlayer = 0\n\t\t\tturnScore = 0\n\tdef newGame \n\t\ttotalScore = [0,0]\n\t\tturnScore = 0\n\t\tplaying = true\n\t\tself.nextPlayer()\n\tdef hasWon player\n\t\tif totalScore[player] >= targetScore\n\t\t\tplaying = false\n\tdef holdScore\n\t\ttotalScore[activePlayer] += turnScore\n\t\tturnScore = 0\n\t\t# if playeer has won\n\t\tif totalScore[activePlayer] >= targetScore\n\t\t\tplaying = false\n\t\tself.nextPlayer()\n\tdef loseScore\n\t\tturnScore = 0\n\t\tself.hasWon(activePlayer)\n\t\tself.nextPlayer()\n\tdef rollDice\n\t\tif playing\n\t\t\t# TODO: Change 3 to 6 for production\n\t\t\tdice = Math.floor(Math.random() * 6) + 1\n\t\t\tif dice isnt 1\n\t\t\t\tturnScore += dice\n\t\t\telse\n\t\t\t\tself.loseScore()\n\tdef render\n\t\t<self>\n\t\t\t<div.wrapper.clearfix>\n\t\t\t\t# Panel Player One\n\t\t\t\t<player-panel player=0>\n\t\t\t\t# Panel Player Two\n\t\t\t\t<player-panel player=1>\n\t\t\t\t<div.button-wrapper>\n\t\t\t\t\t# New Game\n\t\t\t\t\t<button.btn-new :click.newGame>\n\t\t\t\t\t\t<i.fi-plus> \n\t\t\t\t\t\t\"New game\"\n\t\t\t\t\t# Roll Dice\n\t\t\t\t\t<button.btn-roll :click.rollDice> \n\t\t\t\t\t\t<i.fi-loop>\n\t\t\t\t\t\t\"Roll Dice\"\n\t\t\t\t\t# Hold Score\n\t\t\t\t\t<button.btn-roll :click.holdScore>\n\t\t\t\t\t\t<i.fi-arrow-down>\n\t\t\t\t\t\t\"Hold\"\n\t\t\t\t# Dice Image\n\t\t\t\tif dice isnt 0\n\t\t\t\t\t<img.dice src=\"./images/dice-{dice}.png\" alt=\"dice-{dice}\">\n\t\t\t\telse\n\t\t\t\t\t<img.dice src=\"./images/dice-1.png\" alt=\"dice-1\">\n\t\t\t\t<game-info>\n\n\t\t\t\t\n\n### css\n:root {\n\t--third: rgba(105, 36, 166, 1.00);\n\t--first: rgba(255, 89, 69, 1.00);\n\t--second: rgba(255, 220, 0, 1.00);\n\t--white: #fff;\n\t--gray: #f0f0f0;\n\t--mediumgray: #606060;\n\t--dark: #444444;\n\t--shadow: rgba(10,10,0,.1);\n}\n\n* {\n\tmargin: 0;\n\tpadding: 0;\n\tbox-sizing: border-box;\n}\n\n.clearfix::after {\n\tcontent: \"\";\n\tdisplay: table;\n\tclear: both;\n}\nbody {\n\tbackground-color: var(--third);\n}\npig-game {\n\twidth: 100%;\n\tbackground: var(--first);\n\tbackground-size: cover;\n\tbackground-position: center;\n\tfont-family: Lato;\n\tfont-weight: 300;\n\tmin-height: 100vh;\n\tcolor: var(--dark);\n}\n\n.wrapper {\n\twidth: 1000px;\n\tposition: absolute;\n\ttop: 35%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tbackground-color: var(--white);\n\tbox-shadow: 0px 10px 50px var(--shadow);\n}\n\nplayer-panel {\n\twidth: 50%;\n\tfloat: left;\n\theight: 600px;\n\tpadding: 100px;\n\tbackground-color: var(--white);\n}\n\n.player-name {\n\tfont-size: 40px;\n\ttext-align: center;\n\ttext-transform: uppercase;\n\tletter-spacing: 2px;\n\tfont-weight: 100;\n\tmargin-top: 20px;\n\tmargin-bottom: 10px;\n\tposition: relative;\n}\n\n.player-score {\n\ttext-align: center;\n\tfont-size: 80px;\n\tfont-weight: 100;\n\tcolor: var(--first);\n\tmargin-bottom: 130px;\n}\n\n.active {\n\tbackground-color: var(--gray);\n}\n\n.active .player-name {\n\tfont-weight: 300;\n}\n\n.active .player-name::after {\n\tcontent: \"X\";\n\tfont-size: 47px;\n\tposition: absolute;\n\tcolor: var(--first);\n\ttop: -7px;\n\tright: 10px;\n}\n\n.player-current-box {\n\tbackground-color: var(--first);\n\tcolor: var(--white);\n\twidth: 40%;\n\tmargin: 0 auto;\n\tpadding: 12px;\n\ttext-align: center;\n}\n\n.player-current-label {\n\ttext-transform: uppercase;\n\tmargin-bottom: 10px;\n\tfont-size: 12px;\n\tcolor: var(--gray);\n}\n\n.player-current-score {\n\tfont-size: 30px;\n}\n\n.hidden {\n\tdisplay: none;\n}\n.button-wrapper {\n\tdisplay: flex;\n\theight: 200px;\n\tposition: absolute;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\twidth: 200px;\n\tflex-direction: column;\n\tbottom: 0;\n}\nbutton {\n\twidth: 200px;\n\tcolor: var(--dark);\n\tbackground: none;\n\tborder: none;\n\tfont-family: Lato;\n\tfont-size: 20px;\n\ttext-transform: uppercase;\n\tcursor: pointer;\n\tfont-weight: 300;\n\ttransition: background-color 0.3s, color 0.3s;\n}\n\nbutton:hover {\n\tfont-weight: 600;\n}\n\nbutton:hover i {\n\tmargin-right: 20px;\n}\n\nbutton:focus {\n\toutline: none;\n}\n\ni {\n\tcolor: var(--first);\n\tdisplay: inline-block;\n\tmargin-right: 15px;\n\tfont-size: 32px;\n\tline-height: 1;\n\tvertical-align: text-top;\n\tmargin-top: -4px;\n\ttransition: margin 0.3s;\n}\n\n.btn-new {\n\ttop: 45px;\n}\n\n.btn-roll {\n\ttop: 403px;\n}\n\n.btn-hold {\n\ttop: 467px;\n}\n\n.dice {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 160px;\n\ttransform: translateX(-50%);\n\theight: 130px;\n\tbox-shadow: 0px 10px 60px var(--shadow);\n\tdisplay: block;\n}\n\n.winner {\n\tbackground-color: var(--gray);\n}\n\n.winner .player-name {\n\tfont-weight: 300;\n\tcolor: var(--first);\n}\n\ngame-info {\n\tposition: absolute;\n\ttop: 600px;\n\twidth: 100%;\n\tcolor: var(--gray);\n\ttext-align: center;\n\tdisplay: block;\n}\ngame-info a {\n\tcolor: var(--second);\n}\n\n.rules {\n\tbackground-color: var(--mediumgray);\n\tcolor: var(--white);\n\ttext-align: left;\n\tpadding: 1em 2em;\n\tmargin-bottom: 1em;\n}\n###\t\t\t\n"],"names":["Node","Text","Comment","Element","HTMLElement","Event","CustomEvent","document","extend$","imba"],"mappings":"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"}